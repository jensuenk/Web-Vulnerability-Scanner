import { getUrlScheme } from '@angular/compiler';
import { Component, OnInit } from '@angular/core';
import { Observable } from 'rxjs';
import { ApiService } from '../api.service';
import { ScanInputService } from '../scan-input.service';
@Component({
  selector: 'app-reputation',
  templateUrl: './reputation.component.html',
  styleUrls: ['./reputation.component.css']
})
export class ReputationComponent implements OnInit {
	reputationObservable: Observable<any>;
	reputationData: reputationData;
  constructor(private whoisApi:ApiService, private url:ScanInputService) { }

  ngOnInit(): void {
    //this.getReputation()
  }

  getReputation(){
    this.reputationObservable = this.whoisApi.checkReputation(this.url.url);
		this.reputationObservable.subscribe((result) => {
			this.reputationData = result;
			this.reputationData.testResults[0].warnings;
		});
  }

}


export interface TestResult {
  test: string;
  testCode: number;
  warnings: string[];
  warningCodes: number[];
}

export interface reputationData {
  mode: string;
  reputationScore: number;
  testResults: TestResult[];
}
